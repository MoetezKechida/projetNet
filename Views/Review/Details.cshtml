@model Review

@{
    ViewData["Title"] = "Review Details";
}

<div class="container mt-4">
    <h1>Review Details</h1>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="card">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Review Information</h4>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-3">
                    <strong>Review ID:</strong>
                </div>
                <div class="col-md-9">
                    <code>@Model.Id</code>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <strong>Rating:</strong>
                </div>
                <div class="col-md-9">
                    <span class="badge bg-warning text-dark fs-5">
                        @for (int i = 0; i < Model.Rating; i++)
                        {
                            <span>★</span>
                        }
                        @for (int i = Model.Rating; i < 5; i++)
                        {
                            <span>☆</span>
                        }
                        @Model.Rating / 5
                    </span>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <strong>Comment:</strong>
                </div>
                <div class="col-md-9">
                    <p class="border p-3 rounded bg-light">@Model.Comment</p>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <strong>Reviewer ID:</strong>
                </div>
                <div class="col-md-9">
                    <code>@Model.ReviewerId</code>
                    <a asp-action="ByReviewer" asp-route-reviewerId="@Model.ReviewerId" class="btn btn-sm btn-outline-primary ms-2">
                        View all reviews by this reviewer
                    </a>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <strong>Target ID:</strong>
                </div>
                <div class="col-md-9">
                    <code>@Model.TargetId</code>
                    <a asp-action="ByTarget" asp-route-targetId="@Model.TargetId" class="btn btn-sm btn-outline-primary ms-2">
                        View all reviews for this target
                    </a>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <strong>Created At:</strong>
                </div>
                <div class="col-md-9">
                    @Model.CreatedAt.ToString("MMMM dd, yyyy 'at' h:mm tt")
                    <small class="text-muted">(@Model.CreatedAt.ToString("yyyy-MM-dd HH:mm:ss") UTC)</small>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
            <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
            <a asp-action="Index" class="btn btn-secondary">Back to List</a>
        </div>
    </div>
</div>
