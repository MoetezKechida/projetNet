@model IEnumerable<projetNet.Models.Booking>
@{
    ViewData["Title"] = "My Bookings";
}

<div class="container mt-4">
    <h2>My Booking Requests</h2>
    <p class="text-muted">View all your booking requests.</p>

    @if (!Model.Any())
    {
        <div class="alert alert-info">
            You haven't made any booking requests yet.
        </div>
        <a asp-controller="VehicleListing" asp-action="Index" class="btn btn-primary">Browse Vehicles</a>
    }
    else
    {
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Booking ID</th>
                        <th>Vehicle ID</th>
                        <th>Type</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Total Amount</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var booking in Model)
                    {
                        <tr>
                            <td>@booking.Id.ToString().Substring(0, 8)...</td>
                            <td>@booking.VehicleId.ToString().Substring(0, 8)...</td>
                            <td><span class="badge bg-@(booking.BookingType == "Buy" ? "primary" : "success")">@booking.BookingType</span></td>
                            <td>@(booking.StartDate.Year > 1900 ? booking.StartDate.ToString("dd/MM/yyyy") : "N/A")</td>
                            <td>@(booking.EndDate.Year > 1900 ? booking.EndDate.ToString("dd/MM/yyyy") : "N/A")</td>
                            <td><span class="badge bg-success">@string.Format("{0:F2}", booking.TotalAmount) â‚¬</span></td>
                            <td><span class="badge bg-warning">Pending</span></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }

    <div class="mt-3">
        <a asp-controller="Home" asp-action="Index" class="btn btn-secondary">Back to Home</a>
    </div>
</div>

<style>
    .table-responsive {
        margin-top: 20px;
    }
    
    .table td {
        vertical-align: middle;
    }
</style>
